<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Work Holo + 3D Tilt — Provisional Demo</title>
  <!-- Tailwind CDN (play) for a quick standalone doc) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /*
    =============================================
    WORK HOLO + 3D TILT — PROVISIONAL IMPLEMENTATION
    ---------------------------------------------
    How to use (quick):
      1) Duplicate a .holo-card block per project card.
      2) Replace the demo <img> with your project image.
      3) (Optional) Add your transparent PNG overlay to the .holo-overlay <img>.
      4) Adjust intensity/palette via data attributes on .holo-card:
           data-tilt-max, data-glare-size, data-palette

    Notes:
      • The holo sheen mixes two layers: a movable radial "glare" + a conic spectrum.
      • We animate only CSS variables and transform for performance.
      • Safari masks: if you use mask-image with a PNG, also set -webkit-mask-image.
      • Mobile: hover-less devices reduce intensity automatically.
      • Prefers-reduced-motion: disables tilt; keeps a soft static sheen.
    =============================================
    */

    /* Base card */
    .holo-card {
      transform-style: preserve-3d;
      will-change: transform;
    }

    /* Holo sheen (main) */
    .holo-layer {
      pointer-events: none;
      mix-blend-mode: screen; /* key for color dodge-like look */
      opacity: 0.35; /* lower by default so image is clearly visible */
      filter: saturate(1.3) brightness(1.05) contrast(1.05);
      background:
        radial-gradient(var(--glare-w,140px) var(--glare-h,100px) at var(--mx,50%) var(--my,50%), rgba(255,255,255,0.95), rgba(255,255,255,0.0) 55%) no-repeat,
        conic-gradient(from 180deg at 50% 50%,
          var(--c1,#ff6ec7), var(--c2,#ffd166), var(--c3,#7bdff2), var(--c4,#b2f7ef), var(--c5,#caffbf), var(--c6,#ffadad), var(--c7,#ffd6a5), var(--c1,#ff6ec7)
        );
      background-size: 100% 100%, 200% 200%;
      background-position: center, var(--bpX,50%) var(--bpY,50%);
    }

    /* Optional soft directional pass using a mask (can be swapped for PNG) */
    .holo-mask::before {
      content: "";
      position: absolute; inset: 0; pointer-events: none;
      background: radial-gradient(160px 120px at var(--mx,50%) var(--my,50%), rgba(255,255,255,0.5), rgba(255,255,255,0) 60%);
      mix-blend-mode: color-dodge;
      mask-image: linear-gradient(135deg, rgba(0,0,0,0) 20%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 85%);
      -webkit-mask-image: linear-gradient(135deg, rgba(0,0,0,0) 20%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 85%);
    }

    /* Optional PNG mask hook (toggle in the UI). When active, it uses a PNG alpha mask. */
    .png-mask {
      mask-image: var(--mask-url);
      -webkit-mask-image: var(--mask-url);
      mask-size: cover; -webkit-mask-size: cover;
      mask-repeat: no-repeat; -webkit-mask-repeat: no-repeat;
    }

    /* Motion preference */
    @media (prefers-reduced-motion: reduce) {
      .holo-card { transition: none !important; }
    }
  </style>
</head>
<body class="min-h-screen bg-neutral-950 text-neutral-100 antialiased">
  <header class="px-6 py-5 md:px-10 md:py-8 border-b border-white/10 sticky top-0 bg-neutral-950/80 backdrop-blur">
    <div class="max-w-6xl mx-auto flex flex-wrap items-center gap-4 justify-between">
      <h1 class="text-xl md:text-2xl font-semibold tracking-tight">Work — Holo + Tilt (Demo)</h1>
      <div class="flex items-center gap-3 text-sm">
        <label class="flex items-center gap-2"><span class="opacity-70">Preset</span>
          <select id="preset" class="bg-white/5 border border-white/10 rounded px-2 py-1">
            <option value="subtle">Subtle</option>
            <option value="medium" selected>Medium</option>
            <option value="intense">Intense</option>
          </select>
        </label>
        <label class="flex items-center gap-2"><span class="opacity-70">PNG mask</span>
          <input id="togglePngMask" type="checkbox" class="accent-white" />
        </label>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-6 md:px-10 py-10 md:py-14">
    <p class="text-sm md:text-base text-white/70 mb-6">
      This is a provisional HTML only for evaluation. You can link it from any section (e.g., About) in Vercel.
      Replace images with your project thumbnails and (optionally) add a transparent overlay PNG.
    </p>

    <!-- Grid of demo cards -->
    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">

      <!-- CARD 1 -->
      <article class="group relative" style="perspective:1000px">
        <div class="holo-card relative overflow-hidden rounded-2xl border border-white/15 bg-neutral-900 shadow-lg transition-transform duration-150" style="transform-origin:center">
             data-tilt-max="10" data-glare-size="140x100" data-palette="neon" data-intensity="0.8">
          <!-- Project image (replace) -->
          <img src="https://images.unsplash.com/photo-1622445275479-975b5ce9b9a9?q=80&w=1200&auto=format&fit=crop" alt="Project A"
               class="block w-full h-64 object-cover select-none pointer-events-none" />

          <!-- Holo sheen layer -->
          <div class="holo-layer absolute inset-0"></div>

          <!-- Optional overlay PNG with transparency (replace path) -->
          <img class="holo-overlay absolute inset-0 w-full h-full object-cover pointer-events-none opacity-70 hidden"
               src="assets/overlays/holo-overlay.png" alt="" aria-hidden="true" />

          <!-- Text -->
          <div class="absolute inset-x-0 bottom-0 p-4 md:p-5">
            <div class="backdrop-blur bg-black/30 rounded-lg px-3 py-2 inline-block" style="transform: translateZ(40px)">
              <h3 class="text-base md:text-lg font-semibold">Project A</h3>
            </div>
          </div>
        </div>
      </article>

      <!-- CARD 2 -->
      <article class="group relative" style="perspective:1000px">
        <div class="holo-card relative overflow-hidden rounded-2xl border border-white/15 bg-neutral-900 shadow-lg transition-transform duration-150" style="transform-origin:center">
             data-tilt-max="12" data-glare-size="160x110" data-palette="pastel" data-intensity="0.9">
          <img src="https://images.unsplash.com/photo-1517816743773-6e0fd518b4a6?q=80&w=1200&auto=format&fit=crop" alt="Project B"
               class="block w-full h-64 object-cover select-none pointer-events-none" />
          <div class="holo-layer absolute inset-0"></div>
          <img class="holo-overlay absolute inset-0 w-full h-full object-cover pointer-events-none opacity-70 hidden"
               src="assets/overlays/holo-overlay.png" alt="" aria-hidden="true" />
          <div class="absolute inset-x-0 bottom-0 p-4 md:p-5">
            <div class="backdrop-blur bg-black/30 rounded-lg px-3 py-2 inline-block" style="transform: translateZ(40px)">
              <h3 class="text-base md:text-lg font-semibold">Project B</h3>
            </div>
          </div>
        </div>
      </article>

      <!-- CARD 3 -->
      <article class="group relative" style="perspective:1000px">
        <div class="holo-card relative overflow-hidden rounded-2xl border border-white/15 bg-neutral-900 shadow-lg transition-transform duration-150" style="transform-origin:center">
             data-tilt-max="8" data-glare-size="120x90" data-palette="warm" data-intensity="0.7">
          <img src="https://images.unsplash.com/photo-1534131707746-25f47595c87a?q=80&w=1200&auto=format&fit=crop" alt="Project C"
               class="block w-full h-64 object-cover select-none pointer-events-none" />
          <div class="holo-layer absolute inset-0"></div>
          <img class="holo-overlay absolute inset-0 w-full h-full object-cover pointer-events-none opacity-70 hidden"
               src="assets/overlays/holo-overlay.png" alt="" aria-hidden="true" />
          <div class="absolute inset-x-0 bottom-0 p-4 md:p-5">
            <div class="backdrop-blur bg-black/30 rounded-lg px-3 py-2 inline-block" style="transform: translateZ(40px)">
              <h3 class="text-base md:text-lg font-semibold">Project C</h3>
            </div>
          </div>
        </div>
      </article>

    </section>

    <!-- Implementation notes -->
    <section class="mt-12 prose prose-invert max-w-none">
      <h2>Implementation Cheatsheet</h2>
      <ul>
        <li><strong>Duplicate</strong> a <code>.holo-card</code> for each Work item.</li>
        <li>Set <code>data-tilt-max</code> (degrees), <code>data-glare-size</code> (e.g. <code>140x100</code>), <code>data-palette</code>, and <code>data-intensity</code> (0–1).</li>
        <li>To use your own <strong>PNG mask</strong>, enable the toggle above and point <code>--mask-url</code> to your asset path.</li>
        <li>Place your own transparent <strong>overlay PNG</strong> in <code>.holo-overlay</code> and unhide it.</li>
      </ul>
      <h3>Palettes</h3>
      <p>Available palettes: <code>neon</code>, <code>pastel</code>, <code>warm</code>. Add more in <code>PALETTES</code> inside the script.</p>
    </section>
  </main>

  <script>
    // ====================
    // Configurable palettes
    // ====================
    const PALETTES = {
      neon: ['#ff6ec7', '#ffd166', '#7bdff2', '#b2f7ef', '#caffbf', '#ffadad', '#ffd6a5'],
      pastel: ['#d4bfff', '#ffd6a5', '#bff6e5', '#cde7ff', '#f7d1ff', '#ffe8c8', '#e0ffd1'],
      warm: ['#ffb703', '#fb8500', '#ffd166', '#ffadad', '#ffd6a5', '#ffc6ff', '#ff9e7a']
    };

    let prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Apply palette colors to a card's CSS custom properties
    function applyPalette(el, name) {
      const list = PALETTES[name] || PALETTES.neon;
      el.style.setProperty('--c1', list[0]);
      el.style.setProperty('--c2', list[1]);
      el.style.setProperty('--c3', list[2]);
      el.style.setProperty('--c4', list[3]);
      el.style.setProperty('--c5', list[4]);
      el.style.setProperty('--c6', list[5]);
      el.style.setProperty('--c7', list[6]);
    }

    // Create an interactive controller for a single card
    function setupHoloCard(card) {
      const holo = card.querySelector('.holo-layer');
      const overlay = card.querySelector('.holo-overlay');

      // Init palette & glare size
      applyPalette(holo, card.dataset.palette);
      const [gw, gh] = String(card.dataset.glareSize || '140x100').split('x').map(Number);
      holo.style.setProperty('--glare-w', gw + 'px');
      holo.style.setProperty('--glare-h', gh + 'px');

      // Intensity scales sheen opacity + background wander
      const intensity = Math.max(0, Math.min(1, Number(card.dataset.intensity || 0.8)));
      const wander = 30 * intensity; // how far the spectrum background moves
      holo.style.opacity = Math.max(0.25, 0.35 + intensity * 0.45); // 0.35..0.8

      let rx=0, ry=0, tx=0, ty=0; // tilt current/target
      const maxTilt = Number(card.dataset.tiltMax || 10);
      let raf;

      function lerp(a,b,t){ return a + (b-a)*t; }

      // Listen on the parent article (better hit-area)
      const container = card.closest('article') || card;

      function onMove(e){
        const rect = card.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width;   // 0..1
        const y = (e.clientY - rect.top)  / rect.height;  // 0..1

        // Update CSS variables for holo
        const mx = (x*100).toFixed(2) + '%';
        const my = (y*100).toFixed(2) + '%';
        card.style.setProperty('--mx', mx);
        card.style.setProperty('--my', my);
        card.style.setProperty('--bpX', (50 + (x-0.5)*wander) + '%');
        card.style.setProperty('--bpY', (50 + (y-0.5)*wander) + '%');

        // Target tilt
        if (!prefersReduced) {
          tx = lerp(-maxTilt, maxTilt, y) * -1; // rotateX
          ty = lerp(-maxTilt, maxTilt, x);      // rotateY
          if (!raf) raf = requestAnimationFrame(loop);
        }
      }

      function loop(){
        rx = lerp(rx, tx, 0.12);
        ry = lerp(ry, ty, 0.12);
        card.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
        if (Math.abs(rx-tx)>0.01 || Math.abs(ry-ty)>0.01) {
          raf = requestAnimationFrame(loop);
        } else {
          raf = null;
        }
      }

      function reset(){
        tx = 0; ty = 0;
        if (!prefersReduced && !raf) raf = requestAnimationFrame(loop);
      }

      // Pointer + mouse fallback
      container.addEventListener('pointermove', onMove, {passive:true});
      container.addEventListener('mousemove', onMove, {passive:true});
      container.addEventListener('pointerleave', reset);

      // Mobile: soften effect
      if (window.matchMedia('(hover: none)').matches) {
        card.style.transition = 'transform 180ms ease-out';
        holo.style.opacity = Math.min(parseFloat(holo.style.opacity)||0.6, 0.6);
      }

      return {
        setPngMask(enabled) {
          if (enabled) {
            const url = 'url("assets/overlays/holo-mask.png")';
            card.style.setProperty('--mask-url', url);
            holo.classList.add('png-mask');
            if (overlay) overlay.classList.remove('hidden');
          } else {
            holo.classList.remove('png-mask');
            card.style.removeProperty('--mask-url');
            if (overlay) overlay.classList.add('hidden');
          }
        },
        setPreset(name) {
          const presets = {
            subtle: { tilt: 6, glare: [110,80], intensity: 0.5 },
            medium: { tilt: 10, glare: [140,100], intensity: 0.8 },
            intense:{ tilt: 14, glare: [180,130], intensity: 1.0 }
          };
          const p = presets[name] || presets.medium;
          card.dataset.tiltMax = p.tilt;
          card.dataset.intensity = p.intensity;
          holo.style.setProperty('--glare-w', p.glare[0] + 'px');
          holo.style.setProperty('--glare-h', p.glare[1] + 'px');
          holo.style.opacity = Math.max(0.25, 0.35 + p.intensity * 0.45);
        }
      }
    }

      // Mobile: soften effect
      if (window.matchMedia('(hover: none)').matches) {
        card.style.transition = 'transform 180ms ease-out';
        holo.style.opacity = Math.min(holo.style.opacity, 0.6);
      }

      // Return helpers for external UI toggles
      return {
        setPngMask(enabled) {
          if (enabled) {
            // Set your PNG path here:
            const url = 'url("assets/overlays/holo-mask.png")';
            card.style.setProperty('--mask-url', url);
            holo.classList.add('png-mask');
            if (overlay) overlay.classList.remove('hidden');
          } else {
            holo.classList.remove('png-mask');
            card.style.removeProperty('--mask-url');
            if (overlay) overlay.classList.add('hidden');
          }
        },
        setPreset(name) {
          // map presets to parameters
          const presets = {
            subtle: { tilt: 6, glare: [110,80], intensity: 0.5 },
            medium: { tilt: 10, glare: [140,100], intensity: 0.8 },
            intense:{ tilt: 14, glare: [180,130], intensity: 1.0 }
          };
          const p = presets[name] || presets.medium;
          card.dataset.tiltMax = p.tilt;
          card.dataset.intensity = p.intensity;
          holo.style.setProperty('--glare-w', p.glare[0] + 'px');
          holo.style.setProperty('--glare-h', p.glare[1] + 'px');
          holo.style.opacity = 0.5 + p.intensity * 0.5;
        }
      }
    }

    // Setup all cards
    const cards = Array.from(document.querySelectorAll('.holo-card')).map(setupHoloCard);

    // Header UI bindings
    const presetSelect = document.getElementById('preset');
    const togglePngMask = document.getElementById('togglePngMask');

    presetSelect.addEventListener('change', (e)=>{
      cards.forEach(api => api.setPreset(e.target.value));
    });

    togglePngMask.addEventListener('change', (e)=>{
      cards.forEach(api => api.setPngMask(e.target.checked));
      // If user enables PNG mask, they probably want stronger sheen.
      if (e.target.checked) presetSelect.value = 'intense', cards.forEach(api=>api.setPreset('intense'));
    });
    });
  </script>
</body>
</html>
